{"version":3,"sources":["components/Group.js","components/Emoticon.js","components/Toast.js","utils/data/emoticons.js","utils/Duplicator.js","utils/EmoticonHistory.js","App.js","index.js"],"names":["Group","props","title","children","className","Emoticon","value","onClick","name","Toast","isShow","content","emoticons","items","Duplicator","onCopyEnd","span","document","createElement","parentBox","style","height","overflow","opacity","position","left","top","appendChild","body","this","textContent","range","createRange","selectNode","window","getSelection","removeAllRanges","addRange","execCommand","EmoticonHistory","keyName","tempStr","localStorage","getItem","data","JSON","parse","_setStorage","stringify","setItem","count","Object","entries","sort","a","b","map","c","slice","App","handlePickEmoticon","event","target","getAttribute","duplicator","copy","emoticonHistory","record","showToast","frequetlyUsed","getFrequetlyUsedItems","state","isShowToast","item","renderGroup","key","duration","setState","clearTimeout","toastTimer","setTimeout","Component","ReactDOM","render","getElementById"],"mappings":"yVAsBeA,MAlBf,SAAgBC,GAAQ,IAEpBC,EAEED,EAFFC,MACAC,EACEF,EADFE,SAEF,OACE,6BAASC,UAAU,SACjB,wBAAIA,UAAU,gBAAgBF,GAC9B,yBAAKE,UAAU,oBACZD,K,MCWME,MApBf,SAAmBJ,GAAQ,IAEvBK,EAEEL,EAFFK,MACAC,EACEN,EADFM,QAEF,OACE,4BACEL,MAAM,2BACNE,UAAU,WACVI,KAAMF,EACNC,QAASA,GAERD,I,MCKQG,MAjBf,SAAgBR,GAAQ,IAEpBS,EAEET,EAFFS,OACAC,EACEV,EADFU,QAEF,OACE,yBACEP,UAAWM,EAAS,wBAA0B,WAE9C,0BAAMN,UAAU,oBAAoBO,KC0H3BC,EAtIG,CAChB,CACEV,MAAO,eACPW,MAAO,CACL,yBAIJ,CACEX,MAAO,SACPW,MAAO,CACL,gBACA,YACA,YACA,iBACA,qBACA,YACA,SAIJ,CACEX,MAAO,SACPW,MAAO,CACL,kCACA,+BACA,+BACA,oCAIJ,CACEX,MAAO,SACPW,MAAO,CACL,uBACA,yBACA,uBACA,mCACA,mCACA,qBACA,iBACA,gBACA,uBACA,uBACA,mCACA,yBAIJ,CACEX,MAAO,SACPW,MAAO,CACL,uBACA,4BACA,0BACA,6BACA,2BACA,+CACA,uBACA,uBACA,wBACA,mCACA,6BACA,gBACA,uBACA,aACA,aACA,aACA,gBACA,iBACA,iBACA,oCACA,gCAIJ,CACEX,MAAO,SACPW,MAAO,CACL,yBACA,uBACA,yBACA,kBACA,iCACA,cACA,uBACA,6BACA,4BACA,4BACA,qBACA,uBACA,0CAIJ,CACEX,MAAO,SACPW,MAAO,CACL,wBACA,iBACA,iBACA,iBACA,gBACA,gBACA,wBACA,yBAIJ,CACEX,MAAO,SACPW,MAAO,CACL,kBACA,gBACA,4BACA,gCAIJ,CACEX,MAAO,eACPW,MAAO,CACL,wBACA,gBACA,gBACA,gBACA,wBACA,sBACA,mCC5FSC,E,WAjCb,aAAoC,IAAvBC,EAAsB,uDAAV,aAAU,oBACjC,IAAMC,EAAOC,SAASC,cAAc,QAC9BC,EAAYF,SAASC,cAAc,OACzCC,EAAUC,MAAMC,OAAS,MACzBF,EAAUC,MAAME,SAAW,SAC3BH,EAAUC,MAAMG,QAAU,IAC1BJ,EAAUC,MAAMI,SAAW,QAC3BL,EAAUC,MAAMK,KAAO,IACvBN,EAAUC,MAAMM,IAAM,SACtBP,EAAUQ,YAAYX,GACtBC,SAASW,KAAKD,YAAYR,GAE1BU,KAAKb,KAAOA,EAEZa,KAAKd,UAAYA,E,iDAGbT,GAAQ,IAEVU,EACEa,KADFb,KAEFA,EAAKc,YAAcxB,EACnB,IAAMyB,EAAQd,SAASe,cACvBD,EAAME,WAAWjB,GACjBkB,OAAOC,eAAeC,kBACtBF,OAAOC,eAAeE,SAASN,GAE/Bd,SAASqB,YAAY,QAErBT,KAAKd,UAAUT,O,KCAJiC,E,WA9Bb,aAAgB,oBACdV,KAAKW,QAAU,mBACf,IAAMC,EAAUC,aAAaC,QAAQd,KAAKW,SAC1CX,KAAKe,KAAOH,EAAUI,KAAKC,MAAML,GAAW,G,mDAGtC9B,GACFkB,KAAKe,KAAKjC,IACZkB,KAAKe,KAAKjC,IAAY,EACtBkB,KAAKkB,gBAELlB,KAAKe,KAAKjC,GAAW,EACrBkB,KAAKkB,iB,oCAKP,IAAMN,EAAUI,KAAKG,UAAUnB,KAAKe,MACpCF,aAAaO,QAAQpB,KAAKW,QAASC,K,8CAIF,IAAZS,EAAW,uDAAH,EAC7B,OAAOC,OAAOC,QAAQvB,KAAKe,MACxBS,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAE,GAAKD,EAAE,MACxBE,KAAI,SAAAC,GAAC,OAAIA,EAAE,MACXC,MAAM,EAAGR,O,KCqDDS,E,kDAnEb,WAAa1D,GAAQ,IAAD,uBAClB,cAAMA,IA6CR2D,mBAAqB,SAACC,GACpB,IAAMvD,EAAQuD,EAAMC,OAAOC,aAAa,QACxC,EAAKC,WAAWC,KAAK3D,GACrB,EAAK4D,gBAAgBC,OAAO7D,GAC5B,EAAK8D,aA/CL,EAAKJ,WAAa,IAAIlD,EACtB,EAAKoD,gBAAkB,IAAI3B,EAC3B,IAAM8B,EAAgB,EAAKH,gBAAgBI,wBALzB,OAMlB1D,EAAU,GAAGC,MAAQwD,EAErB,EAAKE,MAAQ,CACX3D,YACA4D,aAAa,GAVG,E,qDAgBV,IAAD,OACP,OACE,yBAAKpE,UAAU,OACb,kBAAC,EAAD,CAAOM,OAAQmB,KAAK0C,MAAMC,YAAa7D,QAAQ,6BAE/C,4BAAQP,UAAU,gBAGhByB,KAAK0C,MAAM3D,UAAU4C,KAAI,SAAAiB,GAAI,OAAI,EAAKC,YAAYD,EAAKvE,MAAOuE,EAAK5D,a,kCAQzEX,EACAW,GACC,IAAD,OACA,OACE,kBAAC,EAAD,CACEX,MAAOA,EACPyE,IAAKzE,GAEHW,EAAM2C,KAAI,SAAAiB,GAAI,OAAI,kBAAC,EAAD,CAAUnE,MAAOmE,EAAME,IAAKF,EAAMlE,QAAS,EAAKqD,2B,kCAa7C,IAAD,OAAjBgB,EAAiB,uDAAN,KACpB/C,KAAKgD,SAAS,CACZL,aAAa,IAEfM,aAAajD,KAAKkD,YAClBlD,KAAKkD,WAAaC,YAAW,WAC3B,EAAKH,SAAS,CACZL,aAAa,MAEdI,O,GA/DWK,aCTlBC,IAASC,OAAO,kBAAC,EAAD,MAASlE,SAASmE,eAAe,W","file":"static/js/main.1316ac9f.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Group.css';\r\n\r\n\r\nfunction Group (props) {\r\n  const {\r\n    title,\r\n    children,\r\n  } = props\r\n  return (\r\n    <section className=\"group\">\r\n      <h5 className=\"group__title\">{title}</h5>\r\n      <div className=\"group__container\">\r\n        {children}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Group;\r\n","import React from 'react';\r\nimport './Emoticon.css';\r\n\r\n\r\nfunction Emoticon (props) {\r\n  const {\r\n    value,\r\n    onClick,\r\n  } = props\r\n  return (\r\n    <button \r\n      title=\"点击复制\"\r\n      className=\"emoticon\"  \r\n      name={value}\r\n      onClick={onClick}\r\n    >\r\n      {value}\r\n    </button>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Emoticon;\r\n","import React from 'react';\r\nimport './Toast.css';\r\n\r\n\r\nfunction Toast (props) {\r\n  const {\r\n    isShow,\r\n    content,\r\n  } = props\r\n  return (\r\n    <div \r\n      className={isShow ? 'g-toast g-toast--show' : 'g-toast'}\r\n    >\r\n      <span className=\"g-toast__content\">{content}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Toast;\r\n","\r\nconst emoticons = [\r\n  {\r\n    title: '常用',\r\n    items: [\r\n      '(ﾟ∀。)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: '躲',\r\n    items: [\r\n      '|∀ﾟ',\r\n      '|∀`)',\r\n      '|д`)',\r\n      '|дﾟ)',\r\n      '|ω・´)',\r\n      '|ー`)',\r\n      '|-`)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: '拳',\r\n    items: [\r\n      '⊂彡☆))д´)',\r\n      '⊂彡☆))д`)',\r\n      '⊂彡☆))∀`)',\r\n      '(´∀((☆ミつ',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: '∀',\r\n    items: [\r\n      '(ﾟ∀。)',\r\n      '(*ﾟ∀ﾟ*)',\r\n      '(ﾟ∀ﾟ)',\r\n      '(ノﾟ∀ﾟ)ノ',\r\n      '(σﾟ∀ﾟ)σ',\r\n      'σ`∀´)',\r\n      '(*´∀`)',\r\n      '(´∀`)',\r\n      '(ゝ∀･)',\r\n      '(・∀・)',\r\n      '(｡◕∀◕｡)',\r\n      '(〃∀〃)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'д',\r\n    items: [\r\n      '(ﾟдﾟ)',\r\n      '(´ﾟДﾟ`)',\r\n      '(|||ﾟдﾟ)',\r\n      'Σ(ﾟдﾟ)',\r\n      '(((ﾟдﾟ)))',\r\n      '(ﾟДﾟ≡ﾟДﾟ)',\r\n      '(д)ﾟﾟ',\r\n      '(☉д⊙)',\r\n      '(;ﾟдﾟ)',\r\n      '(σﾟдﾟ)σ',\r\n      '(╬ﾟдﾟ)',\r\n      '(`д´)',\r\n      '(つд⊂)',\r\n      '(>д<)',\r\n      '(TдT)',\r\n      '(-д-)',\r\n      '(´д`)',\r\n      '(*´д`)',\r\n      '(;´Д`)',\r\n      '･ﾟ(ﾉд`ﾟ)',\r\n      'ﾟ(つд`ﾟ)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'ω',\r\n    items: [\r\n      '(=ﾟωﾟ)=',\r\n      '(ﾟωﾟ)',\r\n      '(oﾟωﾟo)',\r\n      '(*´ω`*)',\r\n      'ヾ(´ωﾟ｀)',\r\n      '( ^ω^)',\r\n      '(・ω・)',\r\n      '(｀･ω･)',\r\n      '(`・ω・´)',\r\n      '(´・ω・`)',\r\n      '(´・ω)',\r\n      '(｀・ω)',\r\n      '（<ゝω・）☆',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'ー',\r\n    items: [\r\n      '(・_ゝ・)',\r\n      '(´_ゝ`)',\r\n      '(´_っ`)',\r\n      '(`_っ´)',\r\n      '(´ー`)',\r\n      '(`ー´)',\r\n      '(*ﾟーﾟ)',\r\n      '(・ー・)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'ε',\r\n    items: [\r\n      '(ﾟ3ﾟ)',\r\n      '(`ε´)',\r\n      'ヾ(´ε`ヾ)',\r\n      '(`ε´(つ*⊂)',\r\n    ]\r\n  },\r\n  \r\n  {\r\n    title: '其他',\r\n    items: [\r\n      '(＾o＾)ﾉ',\r\n      '(`ヮ´)',\r\n      '(´ρ`)',\r\n      '(`・´)',\r\n      '(*ﾟ∇ﾟ)',\r\n      'ﾟÅﾟ)',\r\n      '/(◕‿‿◕)\\\\',\r\n    ]\r\n  },\r\n\r\n]\r\n\r\nexport default emoticons\r\n","\r\n\r\n\r\nclass Duplicator {\r\n  constructor (onCopyEnd = () => {}) {\r\n    const span = document.createElement('span')\r\n    const parentBox = document.createElement('div')\r\n    parentBox.style.height = '1px'\r\n    parentBox.style.overflow = 'hidden'\r\n    parentBox.style.opacity = '0'\r\n    parentBox.style.position = 'fixed'\r\n    parentBox.style.left = '0'\r\n    parentBox.style.top = '-800px'\r\n    parentBox.appendChild(span)\r\n    document.body.appendChild(parentBox)\r\n\r\n    this.span = span\r\n\r\n    this.onCopyEnd = onCopyEnd\r\n  }\r\n\r\n  copy (value) {\r\n    const {\r\n      span,\r\n    } = this\r\n    span.textContent = value\r\n    const range = document.createRange();\r\n    range.selectNode(span);\r\n    window.getSelection().removeAllRanges();\r\n    window.getSelection().addRange(range);\r\n\r\n    document.execCommand('copy')\r\n\r\n    this.onCopyEnd(value)\r\n  }\r\n}\r\n\r\nexport default Duplicator;\r\n\r\n\r\n","\r\n\r\nclass EmoticonHistory {\r\n  constructor () {\r\n    this.keyName = 'emoticon-history'\r\n    const tempStr = localStorage.getItem(this.keyName)\r\n    this.data = tempStr ? JSON.parse(tempStr) : {}\r\n  }\r\n\r\n  record (content) {\r\n    if (this.data[content]) {\r\n      this.data[content] += 1\r\n      this._setStorage()\r\n    } else {\r\n      this.data[content] = 1\r\n      this._setStorage()\r\n    }\r\n  }\r\n\r\n  _setStorage () {\r\n    const tempStr = JSON.stringify(this.data)\r\n    localStorage.setItem(this.keyName, tempStr)\r\n  }\r\n\r\n  // 取得最近频繁使用的项\r\n  getFrequetlyUsedItems (count = 4) {\r\n    return Object.entries(this.data)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .map(c => c[0])\r\n      .slice(0, count)\r\n  }\r\n}\r\n\r\nexport default EmoticonHistory\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\nimport Group from \"./components/Group\";\r\nimport Emoticon from \"./components/Emoticon\";\r\nimport Toast from \"./components/Toast\";\r\n\r\nimport emoticons from \"./utils/data/emoticons\";\r\nimport Duplicator from \"./utils/Duplicator\";\r\nimport EmoticonHistory from \"./utils/EmoticonHistory\";\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.duplicator = new Duplicator()\r\n    this.emoticonHistory = new EmoticonHistory()\r\n    const frequetlyUsed = this.emoticonHistory.getFrequetlyUsedItems()\r\n    emoticons[0].items = frequetlyUsed\r\n\r\n    this.state = {\r\n      emoticons,\r\n      isShowToast: false,\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Toast isShow={this.state.isShowToast} content=\"复制成功\" />\r\n\r\n        <header className=\"App__header\">\r\n        </header>\r\n        {\r\n          this.state.emoticons.map(item => this.renderGroup(item.title, item.items))\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  renderGroup(\r\n    title,\r\n    items\r\n  ) {\r\n    return (\r\n      <Group \r\n        title={title} \r\n        key={title}\r\n      >\r\n        { items.map(item => <Emoticon value={item} key={item} onClick={this.handlePickEmoticon} />) }\r\n      </Group>\r\n    )    \r\n\r\n  }\r\n\r\n  handlePickEmoticon = (event) => {\r\n    const value = event.target.getAttribute('name')\r\n    this.duplicator.copy(value)\r\n    this.emoticonHistory.record(value)\r\n    this.showToast()\r\n  }\r\n\r\n  showToast (duration = 1800) {\r\n    this.setState({\r\n      isShowToast: true,\r\n    })\r\n    clearTimeout(this.toastTimer)\r\n    this.toastTimer = setTimeout(() => {\r\n      this.setState({\r\n        isShowToast: false,\r\n      })  \r\n    }, duration);\r\n  }\r\n\r\n}\r\n\r\nexport default App;\r\n\r\n/*\r\n\r\n*/","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}