{"version":3,"sources":["components/Group.js","components/Emoticon.js","components/Toast.js","utils/data/emoticons.js","utils/Duplicator.js","utils/EmoticonHistory.js","App.js","index.js"],"names":["Group","props","title","children","react_default","a","createElement","className","Emoticon","value","onClick","href","name","Toast","isShow","content","emoticons","items","Duplicator","onCopyEnd","arguments","length","undefined","Object","classCallCheck","this","span","document","parentBox","style","height","overflow","opacity","appendChild","body","textContent","range","createRange","selectNode","window","getSelection","removeAllRanges","addRange","execCommand","EmoticonHistory","keyName","tempStr","localStorage","getItem","data","JSON","parse","_setStorage","stringify","setItem","count","entries","sort","b","map","c","slice","App","_this","possibleConstructorReturn","getPrototypeOf","call","handlePickEmoticon","event","target","getAttribute","duplicator","copy","emoticonHistory","record","showToast","frequetlyUsed","getFrequetlyUsedItems","state","isShowToast","_this2","components_Toast","item","renderGroup","_this3","components_Group","key","components_Emoticon","_this4","duration","setState","clearTimeout","toastTimer","setTimeout","Component","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.fd30fd94.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Group.css';\r\n\r\n\r\nfunction Group (props) {\r\n  const {\r\n    title,\r\n    children,\r\n  } = props\r\n  return (\r\n    <section className=\"group\">\r\n      <h3 className=\"group__title\">{title}</h3>\r\n      <div className=\"group__container\">\r\n        {children}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Group;\r\n","import React from 'react';\r\nimport './Emoticon.css';\r\n\r\n\r\nfunction Emoticon (props) {\r\n  const {\r\n    value,\r\n    onClick,\r\n  } = props\r\n  return (\r\n    <a \r\n      href=\"#copy\"\r\n      title=\"点击复制\"\r\n      className=\"emoticon\"  \r\n      name={value}\r\n      onClick={onClick}\r\n    >\r\n      {value}\r\n    </a>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Emoticon;\r\n","import React from 'react';\r\nimport './Toast.css';\r\n\r\n\r\nfunction Toast (props) {\r\n  const {\r\n    isShow,\r\n    content,\r\n  } = props\r\n  return (\r\n    <div \r\n      className={isShow ? 'g-toast g-toast--show' : 'g-toast'}\r\n    >\r\n      <span className=\"g-toast__content\">{content}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Toast;\r\n","\r\nconst emoticons = [\r\n  {\r\n    title: '常用',\r\n    items: [\r\n      '(ﾟ∀。)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: '躲',\r\n    items: [\r\n      '|∀ﾟ',\r\n      '|ω・´)',\r\n      '|-`)',\r\n      '|д`)',\r\n      '|ー`)',\r\n      '|∀`)',\r\n      '|дﾟ)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: '拳',\r\n    items: [\r\n      '⊂彡☆))д`)',\r\n      '⊂彡☆))д´)',\r\n      '⊂彡☆))∀`)',\r\n      '(´∀((☆ミつ',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: '∀',\r\n    items: [\r\n      '(ﾟ∀。)',\r\n      '(σﾟ∀ﾟ)σ',\r\n      'σ`∀´)',\r\n      '(ノﾟ∀ﾟ)ノ',\r\n      '(*´∀`)',\r\n      'ﾟ∀ﾟ)ノ',\r\n      '(ﾟ∀ﾟ)',\r\n      '(*ﾟ∀ﾟ*)',\r\n      'ﾟ∀ﾟ)σ',\r\n      '(ゝ∀･)',\r\n      '(〃∀〃)',\r\n      '(´∀`)',\r\n      '(・∀・)',\r\n      '(｡◕∀◕｡)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'д',\r\n    items: [\r\n      '(ﾟдﾟ)',\r\n      '(ﾟДﾟ≡ﾟДﾟ)',\r\n      '(´ﾟДﾟ`)',\r\n      '(|||ﾟдﾟ)',\r\n      'Σ(ﾟдﾟ)',\r\n      '(((ﾟдﾟ)))',\r\n      '(|||ﾟДﾟ)',\r\n      '(;ﾟдﾟ)',\r\n      '(σﾟдﾟ)σ',\r\n      '(╬ﾟдﾟ)',\r\n      '(д)ﾟﾟ',\r\n      '(☉д⊙)',\r\n      '(つд⊂)',\r\n      '(-д-)',\r\n      '(`д´)',\r\n      '(>д<)',\r\n      '(TдT)',\r\n      '(;´Д`)',\r\n      '(´д`)',\r\n      '(*´д`)',\r\n      '･ﾟ(ﾉд`ﾟ)',\r\n      'ﾟ(つд`ﾟ)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'ω',\r\n    items: [\r\n      '(=ﾟωﾟ)=',\r\n      '(｀･ω･)',\r\n      '( ^ω^)',\r\n      '(´・ω・`)',\r\n      '(`・ω・´)',\r\n      'ヾ(´ωﾟ｀)',\r\n      '(*´ω`*)',\r\n      '(oﾟωﾟo)',\r\n      '(ﾟωﾟ)',\r\n      '(・ω・)',\r\n      '(´・ω)',\r\n      '(｀・ω)',\r\n      '（<ゝω・）☆',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'ー',\r\n    items: [\r\n      '(・_ゝ・)',\r\n      '(´_ゝ`)',\r\n      '(´_っ`)',\r\n      '(`_っ´)',\r\n      '(・ー・)',\r\n      '(´ー`)',\r\n      '(*ﾟーﾟ)',\r\n      '(`ー´)',\r\n    ]\r\n  },\r\n\r\n  {\r\n    title: 'ε',\r\n    items: [\r\n      'ヾ(´ε`ヾ)',\r\n      '(`ε´)',\r\n      '(`ε´(つ*⊂)',\r\n      '(ﾟ3ﾟ)',\r\n    ]\r\n  },\r\n  \r\n  {\r\n    title: '其他',\r\n    items: [\r\n      '(＾o＾)ﾉ',\r\n      '(`ヮ´)',\r\n      '(´ρ`)',\r\n      '(*ﾟ∇ﾟ)',\r\n      'ﾟÅﾟ)',\r\n      '(`・´)',\r\n      '/(◕‿‿◕)\\\\',\r\n    ]\r\n  },\r\n\r\n]\r\n\r\nexport default emoticons\r\n","\r\n\r\n\r\nclass Duplicator {\r\n  constructor (onCopyEnd = () => {}) {\r\n    const span = document.createElement('span')\r\n    const parentBox = document.createElement('div')\r\n    parentBox.style.height = '1px'\r\n    parentBox.style.overflow = 'hidden'\r\n    parentBox.style.opacity = '0'\r\n    parentBox.appendChild(span)\r\n    document.body.appendChild(parentBox)\r\n\r\n    this.span = span\r\n\r\n    this.onCopyEnd = onCopyEnd\r\n  }\r\n\r\n  copy (value) {\r\n    const {\r\n      span,\r\n    } = this\r\n    span.textContent = value\r\n    const range = document.createRange();\r\n    range.selectNode(span);\r\n    window.getSelection().removeAllRanges();\r\n    window.getSelection().addRange(range);\r\n\r\n    document.execCommand('copy')\r\n\r\n    this.onCopyEnd(value)\r\n  }\r\n}\r\n\r\nexport default Duplicator;\r\n\r\n\r\n","\r\n\r\nclass EmoticonHistory {\r\n  constructor () {\r\n    this.keyName = 'emoticon-history'\r\n    const tempStr = localStorage.getItem(this.keyName)\r\n    this.data = tempStr ? JSON.parse(tempStr) : {}\r\n  }\r\n\r\n  record (content) {\r\n    if (this.data[content]) {\r\n      this.data[content] += 1\r\n      this._setStorage()\r\n    } else {\r\n      this.data[content] = 1\r\n      this._setStorage()\r\n    }\r\n  }\r\n\r\n  _setStorage () {\r\n    const tempStr = JSON.stringify(this.data)\r\n    localStorage.setItem(this.keyName, tempStr)\r\n  }\r\n\r\n  // 取得最近频繁使用的项\r\n  getFrequetlyUsedItems (count = 8) {\r\n    return Object.entries(this.data)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .map(c => c[0])\r\n      .slice(0, count)\r\n  }\r\n}\r\n\r\nexport default EmoticonHistory\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\nimport Group from \"./components/Group\";\r\nimport Emoticon from \"./components/Emoticon\";\r\nimport Toast from \"./components/Toast\";\r\n\r\nimport emoticons from \"./utils/data/emoticons\";\r\nimport Duplicator from \"./utils/Duplicator\";\r\nimport EmoticonHistory from \"./utils/EmoticonHistory\";\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.duplicator = new Duplicator()\r\n    this.emoticonHistory = new EmoticonHistory()\r\n    const frequetlyUsed = this.emoticonHistory.getFrequetlyUsedItems()\r\n    emoticons[0].items = frequetlyUsed\r\n\r\n    this.state = {\r\n      emoticons,\r\n      isShowToast: false,\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Toast isShow={this.state.isShowToast} content=\"复制成功\" />\r\n\r\n        <header className=\"App__header\">\r\n        </header>\r\n        {\r\n          this.state.emoticons.map(item => this.renderGroup(item.title, item.items))\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  renderGroup(\r\n    title,\r\n    items\r\n  ) {\r\n    return (\r\n      <Group \r\n        title={title} \r\n        key={title}\r\n      >\r\n        { items.map(item => <Emoticon value={item} key={item} onClick={this.handlePickEmoticon} />) }\r\n      </Group>\r\n    )    \r\n\r\n  }\r\n\r\n  handlePickEmoticon = (event) => {\r\n    const value = event.target.getAttribute('name')\r\n    this.duplicator.copy(value)\r\n    this.emoticonHistory.record(value)\r\n    this.showToast()\r\n  }\r\n\r\n  showToast (duration = 1800) {\r\n    this.setState({\r\n      isShowToast: true,\r\n    })\r\n    clearTimeout(this.toastTimer)\r\n    this.toastTimer = setTimeout(() => {\r\n      this.setState({\r\n        isShowToast: false,\r\n      })  \r\n    }, duration);\r\n  }\r\n\r\n}\r\n\r\nexport default App;\r\n\r\n/*\r\n\r\n*/","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}